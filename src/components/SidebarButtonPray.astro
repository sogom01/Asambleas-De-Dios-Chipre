---
import "../styles/sidebar-buttons.css"; // Si necesitas estilos específicos
---

<div class="relative group">
  <a
    id="pray-button"
    href="#peticiones"
    class="sidebar-button flex items-center p-3 rounded-l-full shadow-lg transition-all duration-300 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-700 text-white"
  >
    <i class="fas fa-praying-hands text-2xl"></i>
    <span
      class="ml-2 opacity-0 group-hover:opacity-100 transition duration-300 whitespace-nowrap"
    >
      Peticiones de Oración
    </span>
  </a>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const prayButton = document.getElementById("pray-button");

    function resetButton() {
      prayButton.classList.remove("expanded");
    }

    prayButton.addEventListener("click", function () {
      setTimeout(() => {
        prayButton.style.pointerEvents = "none";
        setTimeout(() => {
          prayButton.style.pointerEvents = "auto";
          resetButton();
        }, 300);
      }, 100);
    });

    prayButton.addEventListener("mouseover", function () {
      prayButton.classList.add("expanded");
    });

    prayButton.addEventListener("mouseout", function () {
      if (!prayButton.matches(":hover")) {
        resetButton();
      }
    });

    document.addEventListener("visibilitychange", function () {
      if (document.visibilityState === "visible") {
        resetButton();
      }
    });
  });
</script>
