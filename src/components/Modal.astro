---
// Modal.astro
const { open, onClose, videoSrc } = Astro.props;
---

<div
  id="modal"
  class={` fixed inset-0 flex items-center justify-center z-50 ${open ? "block" : "hidden"}`}
>
  <div
    id="modal-background"
    class="absolute inset-0 bg-gray-900 opacity-60"
    onClick={onClose}
  >
  </div>
  <div
    class="rounded-lg overflow-hidden shadow-xl transform transition-all sm:max-w-screen-lg sm:w-full relative"
  >
    <button
      type="button"
      id="modal-close-btn"
      class="absolute top-8 right-8 text-zinc-50 hover:text-zinc-500"
      onClick={onClose}
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
    <div class="bg-gray-700 p-4 m-4 md:p-8 rounded-lg">
      <div class="sm:flex sm:items-start">
        <div class="mt-3 text-center sm:mt-0 sm:">
          <h3 class="text-xl leading-6 font-bold text-center text-zinc-50 mb-8">
            ¡Ven y Visitanos!
          </h3>
          <div class="relative">
            <video
              id="modal-video"
              class="w-full h-auto rounded-lg"
              autoplay
              loop
              muted
            >
              <source src={videoSrc} type="video/mp4" />
              Tu navegador no soporta la reproducción de video.
            </video>
            <div
              id="progress-bar-container"
              class="absolute bottom-0 left-0 right-0 h-1 bg-gray-600"
            >
              <div id="progress-bar" class="h-1 bg-zinc-50"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="../js/modal.js"></script>
